---
title: "Build a Social Media Intelligence Agent with Agno, X Tools, and Exa"
description: "Create a professional-grade social media intelligence system that monitors X (Twitter), performs advanced sentiment analysis, and generates reports using Agno framework"
---

## Overview

In this guide, you will build a multi-agent intelligence pipeline using:

- **Agno** - Orchestrates modular, scalable agent workflows with built-in tool integration
- **X Tools** - Provides real-time, structured data directly from Twitter/X API with engagement metrics  
- **Exa** - Delivers semantic web search for broader context discovery across blogs, forums, and news
- **OpenAI GPT-4** - Performs contextually-aware sentiment analysis and strategic pattern detection

**Why this architecture?** This system combines direct social media data with broader web intelligence to provide comprehensive brand monitoring that captures both immediate social sentiment and emerging discussions before they reach mainstream attention.

## What You'll Build

Your social media intelligence system will:

- Track brand and competitor mentions across X and the broader web
- Perform weighted sentiment analysis that accounts for influence and engagement
- Detect viral content, controversy signals, and high-influence discussions  
- Generate executive-ready reports with strategic recommendations
- Provide continuous monitoring with configurable alert thresholds
- Suggest context-specific response strategies for different scenarios

## Prerequisites

<Check>
**Why these requirements?** A controlled environment prevents dependency conflicts while ensuring access to all necessary APIs for comprehensive social media intelligence.
</Check>

- **Python 3.9+** installed on your machine
- **X (Twitter) Developer Account** with API v2 access - [Apply here](https://developer.twitter.com/en/apply-for-access)
- **OpenAI API Key** for GPT-4 access - [Get your key](https://platform.openai.com/api-keys)
- **Exa API Key** for semantic search - [Sign up here](https://exa.ai)
- **Basic Python knowledge** including async programming concepts
- **Git** for version control

## Step 1: Project Setup with Agno Infrastructure

**Why Agno's infrastructure setup?** Agno provides a streamlined project creation flow that automatically sets up the optimal environment with proper dependency management, secrets handling, and infrastructure orchestration.

```bash
mkdir social-intel && cd social-intel
python3 -m venv venv
source venv/bin/activate     # Windows: venv\Scripts\activate
```

Create and activate an isolated Python environment.

## Step 2: Install Agno Infrastructure and Create Project

**Why this approach?** The infrastructure-first setup ensures proper project scaffolding, secrets management, and deployment capabilities from the start.

```bash
pip install "agno[infra]"    # Keep quotes on zsh
ag infra create              # Choose: [1] agent-infra-docker (default)
# Infra Name: social-intel (or press Enter)
```

This creates the complete project scaffolding in your current directory with proper folder structure and configuration templates.

<Tip>
If you re-run with the same name and see a conflict, delete the folder and try again: `rm -rf social-intel`
</Tip>

## Step 3: Configure API Keys and Secrets

**Why centralized secrets?** The infrastructure setup creates a proper secrets management system that both your agents and infrastructure can share safely.

```bash
mkdir -p infra/secrets
cp infra/example_secrets/.env infra/secrets/.env 2>/dev/null || true
```

Add your API credentials to `infra/secrets/.env`:

```env
# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here

# X (Twitter) API Configuration
X_API_KEY=your-x-api-key
X_API_SECRET=your-x-api-secret
X_ACCESS_TOKEN=your-access-token
X_ACCESS_TOKEN_SECRET=your-access-token-secret
X_BEARER_TOKEN=your-bearer-token

# Exa API Configuration
EXA_API_KEY=your-exa-api-key

# Agno Configuration
AGNO_TELEMETRY=false
```

## Step 4: Start Infrastructure Services

**Why infrastructure-first?** This approach ensures monitoring, logging, and deployment capabilities are available from development through production.

```bash
ag infra up
# Later, to stop: ag infra down
```

Your infrastructure services are now running and ready to support your intelligence agents.

## Step 5: Install Agent Dependencies

**Why these specific packages?** Each dependency serves a critical role in the intelligence pipeline while leveraging the infrastructure setup for optimal integration.

```bash
pip install "agno[tools]" openai exa_py python-dotenv schedule
```

**Dependency breakdown:**
- `agno[tools]` - Core framework with X and Exa tool integrations
- `openai` - GPT-4 API access for advanced analysis
- `exa_py` - Semantic web search capabilities  
- `python-dotenv` - Environment variable management (integrated with infra)
- `schedule` - Task scheduling for continuous monitoring

## Step 6: Create the Intelligence Agent

**Why this agent architecture?** Centralizes all intelligence logic while leveraging Agno's built-in tool orchestration and the infrastructure's secrets management for secure, scalable operation.

```bash
mkdir -p app
touch app/social_media_agent.py
```

Create your main intelligence agent:

```python app/social_media_agent.py
"""Social Media Intelligence Agent

Provides enterprise-grade social media monitoring and analysis,
transforming raw social data into actionable business intelligence.
"""

from pathlib import Path
from textwrap import dedent
from dotenv import load_dotenv

from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.x import XTools
from agno.tools.exa import ExaTools

# Load the infra secrets so agent & infra share one config
load_dotenv(dotenv_path=Path(__file__).resolve().parents[1] / "infra" / "secrets" / ".env")

# Create the intelligence agent
social_media_agent = Agent(
    name="Social Media Intelligence Analyst",
    model=OpenAIChat(id="gpt-4o"),
    tools=[
        XTools(
            include_post_metrics=True,    # Critical for influence weighting
            wait_on_rate_limit=True,      # Handles API rate limits gracefully
        ),
        ExaTools(
            num_results=10,
            include_domains=["reddit.com", "news.ycombinator.com", "medium.com"],
            exclude_domains=["spam-site.com"],
        )
    ],
    instructions=dedent("""
        You are a Senior Social Media Intelligence Analyst specializing in cross-platform 
        brand monitoring and strategic analysis.

        CORE METHODOLOGY:
        
        1. DATA COLLECTION STRATEGY:
           - Use X Tools to gather direct social media mentions with full engagement metrics
           - Use Exa Tools to find broader web discussions, articles, and forum conversations
           - Cross-reference findings between social and web sources for comprehensive coverage
        
        2. ANALYSIS FRAMEWORK:
           - Classify sentiment as Positive/Negative/Neutral/Mixed with detailed reasoning
           - Weight analysis by engagement volume and author influence (verified accounts = 1.5x)
           - Identify engagement patterns: viral advocacy, controversy, influence concentration
           - Extract cross-platform themes and recurring discussion points
        
        3. INTELLIGENCE SYNTHESIS:
           - Detect crisis indicators through sentiment velocity and coordination patterns
           - Identify competitive positioning and feature gap discussions
           - Surface growth opportunities and advocacy moments
           - Generate strategic recommendations with clear priority levels
        
        REPORT FORMAT:
        
        ### Executive Dashboard
        - **Brand Health Score**: [1-10] with supporting evidence
        - **Net Sentiment**: [%positive - %negative] with trend analysis
        - **Key Drivers**: Top 3 positive and negative factors
        - **Alert Level**: Normal/Monitor/Crisis with threshold reasoning
        
        ### Quantitative Metrics
        | Sentiment | Posts | % | Avg Engagement | Influence Score |
        |-----------|-------|---|----------------|-----------------|
        [Detailed breakdown with engagement weighting]
        
        ### Strategic Recommendations
        **IMMEDIATE (≤48h)**: Crisis response, high-impact replies
        **SHORT-TERM (1-2 weeks)**: Content strategy, community engagement  
        **LONG-TERM (1-3 months)**: Product positioning, market strategy
        
        ### Response Playbook
        For high-impact posts: URL, suggested response, recommended responder, strategic goal
        
        ANALYSIS PRINCIPLES:
        - Evidence-based conclusions with supporting metrics
        - Actionable insights that drive business decisions
        - Cross-platform correlation analysis
        - Influence-weighted sentiment scoring
        - Proactive risk and opportunity identification
    """),
    markdown=True,
    show_tool_calls=True,
)

def analyze_brand_sentiment(query: str, tweet_count: int = 20):
    """
    Execute comprehensive social media intelligence analysis.
    
    Why this approach: Combines direct social media data with broader web context
    to provide complete brand intelligence that captures both immediate sentiment
    and emerging trends before they reach mainstream attention.
    
    Args:
        query: Brand or topic search query
        tweet_count: Number of recent tweets to analyze
    """
    prompt = f"""
    Conduct comprehensive social media intelligence analysis for: "{query}"
    
    ANALYSIS PARAMETERS:
    - Twitter Analysis: {tweet_count} most recent tweets with engagement metrics
    - Web Intelligence: Related articles, discussions, and broader context via Exa
    - Cross-Platform Synthesis: Correlate social sentiment with web discussions
    - Strategic Focus: Brand positioning, competitive analysis, risk assessment
    
    METHODOLOGY:
    1. Gather direct social media mentions and engagement data
    2. Search for related web discussions and broader context
    3. Analyze sentiment patterns and engagement indicators
    4. Identify cross-platform themes and influence networks
    5. Generate strategic recommendations with evidence backing
    
    Provide comprehensive intelligence report following the structured format.
    """
    
    return social_media_agent.print_response(prompt, stream=True)

if __name__ == "__main__":
    analyze_brand_sentiment("Agno OR AgnoAGI", tweet_count=25)
```

Complete intelligence agent implementation with infrastructure integration.

## Step 7: Test Your Intelligence Agent

**Why testing matters:** Validates API connectivity, data processing pipeline, and report generation before deploying monitoring systems.

```bash
python app/social_media_agent.py
```

Run the intelligence agent for immediate analysis.

**Expected output structure:**

```markdown
### Executive Dashboard
- **Brand Health Score**: 7.2/10 (Strong positive momentum, UX concerns flagged)
- **Net Sentiment**: +34% (67% positive, 33% negative, +5% vs baseline)  
- **Key Drivers**: Performance improvements, community engagement, pricing advantage
- **Alert Level**: Monitor (UX complaint volume trending upward)

### Quantitative Metrics
| Sentiment | Posts | %   | Avg Engagement | Influence Score |
|-----------|-------|-----|----------------|-----------------|
| Positive  | 17    | 68% | High (24.3)    | 8.2/10          |
| Negative  | 6     | 24% | Medium (12.7)  | 6.1/10          |
| Neutral   | 2     | 8%  | Low (5.2)      | 3.4/10          |

### Strategic Recommendations
**IMMEDIATE**: Address login flow UX complaints mentioned in 3 high-engagement threads
**SHORT-TERM**: Amplify positive performance messaging, engage developer community  
**LONG-TERM**: Consider UX audit based on recurring feedback themes
```

Sample intelligence report output.

## Step 8: Add Continuous Monitoring

**Why continuous monitoring?** Enables proactive brand management by detecting trends, risks, and opportunities in near real-time without manual intervention.

Create monitoring system:

```bash
touch app/monitoring_system.py
```

Implement scheduled monitoring:

```python app/monitoring_system.py
"""Continuous Social Media Monitoring System"""

import schedule
import time
from datetime import datetime
from social_media_agent import analyze_brand_sentiment

class SocialMediaMonitor:
    """
    Why this approach: Provides flexible monitoring with configurable intervals
    and error handling to ensure continuous operation while leveraging the
    infrastructure setup for reliability.
    """
    
    def __init__(self, brands_to_monitor: list):
        self.brands = brands_to_monitor
        
    def run_analysis(self, brand: str):
        """Execute analysis with error handling and logging."""
        print(f"[{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}] Analyzing: {brand}")
        
        try:
            analyze_brand_sentiment(brand, tweet_count=20)
            print(f"✓ Analysis completed for {brand}")
        except Exception as e:
            print(f"✗ Error analyzing {brand}: {str(e)}")
    
    def schedule_monitoring(self):
        """Set up recurring analysis schedule."""
        for brand in self.brands:
            # Standard monitoring every 2 hours
            schedule.every(2).hours.do(self.run_analysis, brand=brand)
            
        print(f"Monitoring scheduled for: {', '.join(self.brands)}")
        print("Starting continuous monitoring... (Press Ctrl+C to stop)")
        
        try:
            while True:
                schedule.run_pending()
                time.sleep(300)  # Check every 5 minutes
        except KeyboardInterrupt:
            print("\\nMonitoring stopped by user")
    
    def manual_analysis(self, brand: str = None):
        """Execute immediate analysis on demand."""
        brands_to_analyze = [brand] if brand else self.brands
        
        for target_brand in brands_to_analyze:
            self.run_analysis(target_brand)

# Configuration
MONITORED_BRANDS = [
    "Agno OR AgnoAGI",
    # Add your brands here
]

if __name__ == "__main__":
    monitor = SocialMediaMonitor(MONITORED_BRANDS)
    
    # Run immediate analysis
    print("Running immediate analysis...")
    monitor.manual_analysis()
    
    # Uncomment to start continuous monitoring
    # monitor.schedule_monitoring()
```

Monitoring system with scheduling and error handling integrated with infrastructure.

## Step 9: Operate Your Intelligence System

**Why proper operation matters:** The Agno infrastructure provides built-in capabilities for reliable deployment, monitoring, and maintenance.

### Start/stop infrastructure services:
```bash
ag infra up      # Start all services
ag infra down    # Stop all services
```

### Run immediate analysis:
```bash
python app/social_media_agent.py
```

### Start continuous monitoring:
```bash
python app/monitoring_system.py
```

### Configuration options:
- Adjust `tweet_count` for analysis depth vs. API usage balance
- Modify monitoring intervals based on brand volatility and resource constraints
- Customize Exa domain filters for industry-specific intelligence
- Leverage infrastructure monitoring and logging capabilities

## Advanced Features

Your infrastructure-powered intelligence system now provides:

**Infrastructure Integration**: Built on Agno's infrastructure framework with proper secrets management, service orchestration, and deployment capabilities.

**Multi-Source Intelligence**: Combines direct social media data with broader web discussions for comprehensive brand monitoring that captures emerging trends before mainstream attention.

**Weighted Analysis**: Accounts for author influence, engagement metrics, and source credibility to provide accurate sentiment assessment rather than simple mention counting.

**Crisis Detection**: Monitors sentiment velocity, engagement patterns, and coordination indicators to identify potential issues before they escalate.

**Strategic Recommendations**: Generates actionable insights with clear priority levels and specific response strategies rather than generic sentiment scores.

**Production Ready**: Infrastructure services provide monitoring, logging, and deployment capabilities for reliable continuous operation.

## Next Steps

**Infrastructure Scaling**: Use `ag infra` commands to add additional services, databases, and monitoring capabilities as your system grows.

**Platform Expansion**: Add LinkedIn, Reddit, and industry-specific forums for broader intelligence coverage using Agno's expanding tool ecosystem.

**Alert Integration**: Connect to Slack, email, or webhook systems using the infrastructure's integration capabilities for immediate notification of significant sentiment changes.

**Visual Analytics**: Implement charts, graphs, and trend visualizations through the infrastructure's data services for easier pattern recognition and executive presentation.

**Industry Customization**: Develop domain-specific analysis patterns, terminology, and alert thresholds leveraging the infrastructure's configuration management.

**Competitive Intelligence**: Expand monitoring to track competitor mentions, feature comparisons, and market positioning discussions with additional agent specialization.

## Conclusion

You have built a comprehensive social media intelligence system powered by Agno's infrastructure framework that transforms raw social media data into strategic business intelligence. The system demonstrates how modern AI infrastructure enables:

- **Infrastructure-powered development** with proper secrets, services, and deployment management
- **Real-time monitoring** across multiple platforms and sources with reliable operation
- **Weighted sentiment analysis** that accounts for influence and engagement patterns
- **Strategic recommendations** with clear priority levels and actionable insights  
- **Crisis detection** capabilities for early warning and rapid response
- **Production deployment** with monitoring, logging, and scaling capabilities

This architecture showcases Agno's capability for building production-ready AI systems that deliver measurable business value through intelligent automation, proper infrastructure management, and comprehensive analysis. The infrastructure-first approach ensures your system can scale from development through enterprise deployment with reliability and maintainability.